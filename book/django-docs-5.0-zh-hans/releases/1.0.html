
<!DOCTYPE html>

<html lang="zh_Hans">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Django 1.0 版本发行说明 &#8212; Django 5.0.3.dev20240221071519 文档</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="将你的应用从 Django 0.96 移植到 1.0" href="1.0-porting-guide.html" />
    <link rel="prev" title="Django 1.0.1 版本发行说明" href="1.0.1.html" />



 
<script src="../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Django 5.0.3.dev20240221071519 文档</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Table of contents" href="../contents.html">Table of contents</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="1.0.1.html" title="Django 1.0.1 版本发行说明">previous</a>
     |
    <a href="index.html" title="发行说明" accesskey="U">up</a>
   |
    <a href="1.0-porting-guide.html" title="将你的应用从 Django 0.96 移植到 1.0">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="releases-1.0">
            
  <div class="section" id="s-django-1-0-release-notes">
<span id="django-1-0-release-notes"></span><h1>Django 1.0 版本发行说明<a class="headerlink" href="#django-1-0-release-notes" title="永久链接至标题">¶</a></h1>
<p>欢迎来到 Django 1.0 版本！</p>
<p>我们期待这一刻已经三年多了，现在它终于来了。Django 1.0是Django开发过程中最大的一个里程碑:这是一个让一群完美主义者感到自豪的Web框架。</p>
<p>Django 1.0 作为一个开发了三年多的开源项目，得到了数百名开发人员的支持，并被翻译成50多种语言，现在仍广泛的被世界各地的开发人员用于各种工作中</p>
<p>一个有趣的历史性注意事项：当Django于2005年7月第一次发布的时候，最初发布的Django版本来自互联网仓库，修订版本号是8825。Django 1.0 代表的是我们公开仓库里的修订版 8961。这看起来是符合我们当时1.0发布的到来，那个时候社区贡献者们都过度地私有化。</p>
<div class="section" id="s-stability-and-forwards-compatibility">
<span id="stability-and-forwards-compatibility"></span><h2>稳定性和向前兼容性<a class="headerlink" href="#stability-and-forwards-compatibility" title="永久链接至标题">¶</a></h2>
<p>随着Django 1.0的发布，提供了承诺的API稳定性和向前兼容性。意思就是你针对Django 1.0所开发的代码能够用在1.1版本没有变化的地方，然后只需要你做少量的代码变更就可以适用 1.X 版本。</p>
<p>查阅文档：“API稳定性指南”了解详细信息</p>
</div>
<div class="section" id="s-backwards-incompatible-changes">
<span id="backwards-incompatible-changes"></span><h2>不向后兼容的变更<a class="headerlink" href="#backwards-incompatible-changes" title="永久链接至标题">¶</a></h2>
<p>Django 1.0 有许多与 Django 0.96 不兼容的修改。如果您有Django 0.96 的应用需要移植，请查看我们的详细移植指南。</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="1.0-porting-guide.html">将你的应用从 Django 0.96 移植到 1.0</a></li>
</ul>
</div>
<p>查看不兼容的更改列表请移步：<a class="reference external" href="https://code.djangoproject.com/wiki/BackwardsIncompatibleChanges">https://code.djangoproject.com/wiki/BackwardsIncompatibleChanges</a>.</p>
</div>
<div class="section" id="s-what-s-new-in-django-1-0">
<span id="what-s-new-in-django-1-0"></span><h2>Django 1.0 新特性<a class="headerlink" href="#what-s-new-in-django-1-0" title="永久链接至标题">¶</a></h2>
<p>很多</p>
<p>从 Django 0.96 开始，我们已经提交了 4000 多次的代码，修复了 2000 多个漏洞，并编辑了大约 350000 行的代码。我们还添加了 40000 行的新文档，极大的改进了现有的内容。</p>
<p>事实上，新的文档就是Django 1.0中我们喜欢的特性之一，所以我们也会从新的文档作为起点。首先，新的文档网页是：</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.djangoproject.com/">https://docs.djangoproject.com/</a></li>
</ul>
<p>文档已经有了很大的提升，整洁，而且通常做的很好。目前专注在搜索、索引，以及等等功能上。</p>
<p>在新的1.0版本中我们无法对每一件事做到文档化，但文档确实能作为你的开发指南。任何你所看到的，例如：</p>
<div class="versionadded">
<span class="title">New in Django 1.0:</span> <p>此功能是 Django 1.0 中的新功能</p>
</div>
<p>你能知道你所要找的新内容，或者有哪些变化。</p>
<p>Django 1.0其它的主要亮点有：</p>
<div class="section" id="s-refactored-admin-application">
<span id="refactored-admin-application"></span><h3>重构的管理应用程序<a class="headerlink" href="#refactored-admin-application" title="永久链接至标题">¶</a></h3>
<p>Django的管理接口 (<code class="docutils literal notranslate"><span class="pre">django.contrib.admin</span></code>) 已经完全重构了；管理员定义功能目前完全解构成模块定义形式 (不再是 <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">Admin</span></code> 模块中的类形式！) ，重写代码来使用Django的新表单处理库 (曾在 0.96 版本中介绍成 <code class="docutils literal notranslate"><span class="pre">django.newforms</span></code> 内容，而此时直接可用成 <code class="docutils literal notranslate"><span class="pre">django.forms</span></code> 了) 以及重新设计成具有扩展能力和自定义能力。完整的管理员应用程序文档在官方Django文档网站上可以看到：</p>
<p>参考 <a class="reference internal" href="../ref/contrib/admin/index.html"><span class="doc">管理员指南</span></a> 了解细节</p>
</div>
<div class="section" id="s-improved-unicode-handling">
<span id="improved-unicode-handling"></span><h3>改进了 Unicode 的处理<a class="headerlink" href="#improved-unicode-handling" title="永久链接至标题">¶</a></h3>
<p>Django内部机制已经重构成使用Unicode字符集；这回彻底让在Django中使用处理非西欧内容和数据的任务变得容易。另外，工具函数都提供成容易与第三方库协同工作的函数，甚至也能够与那些不能处理Unicode字符集的操作系统一起协同工作。细节都可以在Django的Unicode处理文档中找到可用的内容。</p>
<p>参见 <a class="reference internal" href="../ref/unicode.html"><span class="doc">Unicode 数据</span></a>。</p>
</div>
<div class="section" id="s-an-improved-orm">
<span id="an-improved-orm"></span><h3>一项ORM提升<a class="headerlink" href="#an-improved-orm" title="永久链接至标题">¶</a></h3>
<p>Django的面向对象映射器 -- 这个组件提供了把Django模型类与你的数据库映射起来的作用，而且调解你的数据库查询 -- 都是通过大量重构代码工作实现了动态提升。对于大部分Django用户来说，这是一种向后兼容的体现；对于数据库查询来说，公开面对API经历了很少的变更，但大部分更新都是发生在ORM的内部机制中。一项变更指南，包括向后兼容的修改，以及一些新特性的提醒都是通过这次重构开放出来的，相关内容是在 <a href="#id1"><span class="problematic" id="id2">`</span></a>可用的Django wiki`__上找到。</p>
</div>
<div class="section" id="s-automatic-escaping-of-template-variables">
<span id="automatic-escaping-of-template-variables"></span><h3>模版变量的自动转义<a class="headerlink" href="#automatic-escaping-of-template-variables" title="永久链接至标题">¶</a></h3>
<p>要提供针对跨网页脚本（XSS）漏洞的安全提升，Django的模版系统现在会对变量结果进行自动转义。这种行为是可以进行配置的，而且既可以允许变量标记出安全，也可以对更大模版的建立标记成安全（即需要不执行转义）或标记成不安全（即需要执行转义）。自动转移这个特性的完整指南在文档中 <a class="reference internal" href="../ref/templates/builtins.html#std-templatetag-autoescape"><code class="xref std std-ttag docutils literal notranslate"><span class="pre">autoescape</span></code></a> 标签位置上。</p>
</div>
<div class="section" id="s-django-contrib-gis-geodjango">
<span id="django-contrib-gis-geodjango"></span><h3><code class="docutils literal notranslate"><span class="pre">django.contrib.gis</span></code> (Django地理信息功能)<a class="headerlink" href="#django-contrib-gis-geodjango" title="永久链接至标题">¶</a></h3>
<p>一个为期超过一年以上的项目，就是世界级别类型的GIS (<a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">地理信息系统</a>) 支持了Django框架，是以一种 <code class="docutils literal notranslate"><span class="pre">contrib</span></code> 应用程序形式运作的。本身的文档目前由项目外团队进行维护，并且很快以后会合并到Django主文档中去。非常感谢 Justin Bronn, Jeremy Dunck, Brett Hoerner 和 Travis Pinney 为建立和完成本特性而做出的努力。</p>
<p>详见 <a class="reference internal" href="../ref/contrib/gis/index.html"><span class="doc">GeoDjango</span></a>。</p>
</div>
<div class="section" id="s-pluggable-file-storage">
<span id="pluggable-file-storage"></span><h3>移动文件存储<a class="headerlink" href="#pluggable-file-storage" title="永久链接至标题">¶</a></h3>
<p>Django的内置 <code class="docutils literal notranslate"><span class="pre">FileField</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> 目前获得了后端移动文件存储的功能优势，Django允许扩展自定义上传文件，指定上传文件的位置和如何上传文件。细节可以查看 <a class="reference internal" href="../topics/files.html"><span class="doc">文件文档内容</span></a>; 非常感谢 Marty Alchin 投入了艰难的工作完成这项特性功能。</p>
</div>
<div class="section" id="s-jython-compatibility">
<span id="jython-compatibility"></span><h3>Jython 兼容性<a class="headerlink" href="#jython-compatibility" title="永久链接至标题">¶</a></h3>
<p>非常感谢 Leo Soto 在谷歌夏季编程项目中做了大量工作，Django的代码库已经重构后删除了与 <a href="#id1"><span class="problematic" id="id2">`</span></a>Jython`_不兼容的代码部分，一项用Java写的Python部署，可以在Java虚拟机上运行Python代码。Django目前可以胜任即将发布的 Jython 2.5 版本了。</p>
</div>
<div class="section" id="s-generic-relations-in-forms-and-admin">
<span id="generic-relations-in-forms-and-admin"></span><h3>表单和管理员中的普通关联<a class="headerlink" href="#generic-relations-in-forms-and-admin" title="永久链接至标题">¶</a></h3>
<p>许多类目前都放在了 <code class="docutils literal notranslate"><span class="pre">django.contrib.contenttypes</span></code> 模块中，这是用来支持后台接口和用户形式的普通关联。参考 <a class="reference internal" href="../ref/contrib/contenttypes.html#generic-relations"><span class="std std-ref">普通关联文档</span></a> 了解细节。</p>
</div>
<div class="section" id="s-insert-update-distinction">
<span id="insert-update-distinction"></span><h3><code class="docutils literal notranslate"><span class="pre">INSERT``和``UPDATE</span></code> 区别<a class="headerlink" href="#insert-update-distinction" title="永久链接至标题">¶</a></h3>
<p>尽管 Django对于SQL数据库 <code class="docutils literal notranslate"><span class="pre">INSERT``或</span> <span class="pre">``UPDATE</span></code> 操作有一个默认自动执行的模型``save()``方法行为，在大多数情况下都适用，但偶尔也有一些情况要强制使用一个或另一个才行。作为结果，许多模块目前可以支持另一个可选参数，让``save()``方法强制执行具体的一个操作。</p>
<p>参考 <span class="xref std std-ref">指向模型强制插入</span> 文档了解细节。</p>
</div>
<div class="section" id="s-split-cachemiddleware">
<span id="split-cachemiddleware"></span><h3>去掉 <code class="docutils literal notranslate"><span class="pre">CacheMiddleware</span></code><a class="headerlink" href="#split-cachemiddleware" title="永久链接至标题">¶</a></h3>
<p>Django的 <code class="docutils literal notranslate"><span class="pre">CacheMiddleware</span></code> 已经分解成三个类了： <code class="docutils literal notranslate"><span class="pre">CacheMiddleware</span></code> 依然存在并且保留了以前本身的全部功能，但目前建立要从2个不同的中间件类来建立，分别处理缓存中的2个部分 (插入到缓存中和从缓存中读取)，这样为一些情况提供了额外的灵活性，例如把许多功能组合到一个中间件里来解决问题。</p>
<p>全部细节，包括适当地更新注释，都在 :doc:<a href="#id1"><span class="problematic" id="id2">`</span></a>缓存文档 &lt;/topics/cache&gt;`中。</p>
</div>
<div class="section" id="s-refactored-django-contrib-comments">
<span id="refactored-django-contrib-comments"></span><h3>重构 <code class="docutils literal notranslate"><span class="pre">django.contrib.comments</span></code><a class="headerlink" href="#refactored-django-contrib-comments" title="永久链接至标题">¶</a></h3>
<p>作为谷歌夏季代码项目的一部分， Thejaswi Puthraya 负责主要的重写和重构Django的捆绑注释系统，极大地提高了灵活性和自定义功能。</p>
</div>
<div class="section" id="s-removal-of-deprecated-features">
<span id="removal-of-deprecated-features"></span><h3>移除淘汰的特性<a class="headerlink" href="#removal-of-deprecated-features" title="永久链接至标题">¶</a></h3>
<p>一些特性和方法前面已经标记成淘汰的内容，而且在1.0版本发布时会被移除，在现在的Django版本中已经没有了。这些包括了导入库名 <code class="docutils literal notranslate"><span class="pre">django.newforms</span></code> (目前导入库名直接变成了 <code class="docutils literal notranslate"><span class="pre">django.forms</span></code>)，而且 <code class="docutils literal notranslate"><span class="pre">form_for_model</span></code> 和 <code class="docutils literal notranslate"><span class="pre">form_for_instance</span></code> 辅助函数 (都被 <code class="docutils literal notranslate"><span class="pre">ModelForm</span></code> 所取代) 以及一些淘汰的特性都换成了调度器，文件上传和文件存储功能，在Django 1.0 alpha版本中进行的重构。</p>
</div>
</div>
<div class="section" id="s-known-issues">
<span id="known-issues"></span><h2>已知问题<a class="headerlink" href="#known-issues" title="永久链接至标题">¶</a></h2>
<p>我们让 Django 1.0 尽可能成为稳固版本做了最好的工作，但不幸的是在发布后依然有一些问题。</p>
<div class="section" id="s-multi-table-model-inheritance-with-to-field">
<span id="multi-table-model-inheritance-with-to-field"></span><h3>多表模型继承使用 <code class="docutils literal notranslate"><span class="pre">to_field</span></code><a class="headerlink" href="#multi-table-model-inheritance-with-to-field" title="永久链接至标题">¶</a></h3>
<p>如果你正在使用 <a class="reference internal" href="../topics/db/models.html#multi-table-inheritance"><span class="std std-ref">多表模型继承</span></a> 的话，要知道一项警告：子模型在使用一个自定义 <code class="docutils literal notranslate"><span class="pre">parent_link</span></code> 和 <code class="docutils literal notranslate"><span class="pre">to_field</span></code> 的时候会导致数据库整合错误。一套模型可能会出现 <strong>not valid</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">other_value</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="n">father</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span>
        <span class="n">Parent</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">to_field</span><span class="o">=</span><span class="s2">&quot;other_value&quot;</span><span class="p">,</span> <span class="n">parent_link</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
</pre></div>
</div>
<p>这个漏洞将在 Django 的下一个版本中修复。</p>
</div>
<div class="section" id="s-caveats-with-support-of-certain-databases">
<span id="caveats-with-support-of-certain-databases"></span><h3>警告中含带某些数据库支持信息<a class="headerlink" href="#caveats-with-support-of-certain-databases" title="永久链接至标题">¶</a></h3>
<p>Django 尽可能支持所有数据库后端的特性。不管如何，不是所有的数据库后端都可能实现，并且在许多特殊的数据库支持上都是每个版本都有不同之处。有一个好的办法就是查阅文档 <a class="reference internal" href="../ref/databases.html"><span class="doc">所支持的数据库注意事项</span></a>：</p>
<ul class="simple">
<li><a class="reference internal" href="../ref/databases.html#mysql-notes"><span class="std std-ref">MySQL 注意事项</span></a></li>
<li><a class="reference internal" href="../ref/databases.html#sqlite-notes"><span class="std std-ref">SQLite 注意事项</span></a></li>
<li><a class="reference internal" href="../ref/databases.html#oracle-notes"><span class="std std-ref">Oracle 注意事项</span></a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Django 1.0 版本发行说明</a><ul>
<li><a class="reference internal" href="#stability-and-forwards-compatibility">稳定性和向前兼容性</a></li>
<li><a class="reference internal" href="#backwards-incompatible-changes">不向后兼容的变更</a></li>
<li><a class="reference internal" href="#what-s-new-in-django-1-0">Django 1.0 新特性</a><ul>
<li><a class="reference internal" href="#refactored-admin-application">重构的管理应用程序</a></li>
<li><a class="reference internal" href="#improved-unicode-handling">改进了 Unicode 的处理</a></li>
<li><a class="reference internal" href="#an-improved-orm">一项ORM提升</a></li>
<li><a class="reference internal" href="#automatic-escaping-of-template-variables">模版变量的自动转义</a></li>
<li><a class="reference internal" href="#django-contrib-gis-geodjango"><code class="docutils literal notranslate"><span class="pre">django.contrib.gis</span></code> (Django地理信息功能)</a></li>
<li><a class="reference internal" href="#pluggable-file-storage">移动文件存储</a></li>
<li><a class="reference internal" href="#jython-compatibility">Jython 兼容性</a></li>
<li><a class="reference internal" href="#generic-relations-in-forms-and-admin">表单和管理员中的普通关联</a></li>
<li><a class="reference internal" href="#insert-update-distinction"><code class="docutils literal notranslate"><span class="pre">INSERT``和``UPDATE</span></code> 区别</a></li>
<li><a class="reference internal" href="#split-cachemiddleware">去掉 <code class="docutils literal notranslate"><span class="pre">CacheMiddleware</span></code></a></li>
<li><a class="reference internal" href="#refactored-django-contrib-comments">重构 <code class="docutils literal notranslate"><span class="pre">django.contrib.comments</span></code></a></li>
<li><a class="reference internal" href="#removal-of-deprecated-features">移除淘汰的特性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-issues">已知问题</a><ul>
<li><a class="reference internal" href="#multi-table-model-inheritance-with-to-field">多表模型继承使用 <code class="docutils literal notranslate"><span class="pre">to_field</span></code></a></li>
<li><a class="reference internal" href="#caveats-with-support-of-certain-databases">警告中含带某些数据库支持信息</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="1.0.1.html"
                          title="上一章">Django 1.0.1 版本发行说明</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="1.0-porting-guide.html"
                          title="下一章">将你的应用从 Django 0.96 移植到 1.0</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/releases/1.0.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">2月 21, 2024</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="1.0.1.html" title="Django 1.0.1 版本发行说明">previous</a>
     |
    <a href="index.html" title="发行说明" accesskey="U">up</a>
   |
    <a href="1.0-porting-guide.html" title="将你的应用从 Django 0.96 移植到 1.0">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>